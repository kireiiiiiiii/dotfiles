# ----------------------------------------
# 🚀 GENERAL CONFIGURATION
# ----------------------------------------

# Colors & Terminal Settings
set -g default-terminal "screen-256color"
set-option -g terminal-overrides ',xterm-256color:RGB'

# Behavior & Usability
set -g mouse on                   # Enable mouse support
set-window-option -g mode-keys vi # Use Vim-style keybindings in copy mode
set -g base-index 1               # Start indexing windows at 1
set -g renumber-windows on        # Renumber windows when one is closed
set -g escape-time 0              # Eliminate escape delay
set -g history-limit 1000000      # Increase scrollback buffer
set -g detach-on-destroy off      # Keep session open if a window closes
set -g set-clipboard on           # Sync clipboard with system
set -g status-interval 1          # Update status bar every second
# set -g status-position top        # Status bar at the top

# ----------------------------------------
# 🎮 KEYBINDINGS
# ----------------------------------------

# Change Prefix to `Ctrl-A` (more ergonomic)
set -g prefix C-a
unbind C-b
bind-key C-a send-prefix

# Pane Management
unbind %
bind | split-window -h # Split horizontally with |
unbind '"'
bind - split-window -v # Split vertically with -

# Window Management
unbind q
bind q kill-window # Kill current window
unbind n
bind n new-window # Create new window

# Pane Resizing (Fast Adjustments)
bind -r j resize-pane -D 5
bind -r k resize-pane -U 5
bind -r l resize-pane -R 5
bind -r h resize-pane -L 5
bind -r m resize-pane -Z

# Reload Config
unbind r
bind r source-file ~/.config/tmux/tmux.conf \; display-message "Config Reloaded! 🚀"

# Copy Mode (Vim-like)
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection
unbind -T copy-mode-vi MouseDragEnd1Pane

# ----------------------------------------
# 🔌 PLUGINS (Managed by TPM)
# ----------------------------------------

set -g @plugin 'tmux-plugins/tpm'               # Plugin Manager
set -g @plugin 'christoomey/vim-tmux-navigator' # Seamless Vim <-> Tmux movement
set -g @plugin 'tmux-plugins/tmux-resurrect'    # Save & Restore sessions
set -g @plugin 'tmux-plugins/tmux-continuum'    #
set -g @plugin "janoamaral/tokyo-night-tmux"    # Theme
set -g @plugin 'tmux-plugins/tmux-cpu'          # CPU load
set -g @plugin 'tmux-plugins/tmux-battery'      # Battery info
set -g @plugin 'tmux-plugins/tmux-weather'      # Weather
set -g @plugin 'tmux-plugins/tmux-net-speed'    # Network speed
set -g @plugin 'tmux-plugins/tmux-gpu'          # GPU status

# Session Restoration Settings
set -g @continuum-boot 'off'
set -g @continuum-restore 'on'
set -g @resurrect-capture-pane-contents 'on'
set -g @resurrect-strategy-nvim 'session'

# ----------------------------------------
# 🎨 THEME CONFIGURATION
# ----------------------------------------

# TODO

# ----------------------------------------
# 🛠️ FINAL CONFIG & INIT
# ----------------------------------------

# Run TPM (Tmux Plugin Manager)
run '~/.config/tmux/plugins/tpm/tpm'

# Status Line Padding
# set -g status 2
# set -g status-format[1] ''
